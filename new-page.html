<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ASP.NET Core Razor简介 | 了解 Razor Pages</title>
    <link href="./assets/libs/bootstrap-4.4.1-dist/css/bootstrap.css" rel="stylesheet" />
    <link href="./assets/theme.css" rel="stylesheet" />
    <script>
        window.onload = function () {
            $("body").addClass("bg-light");
        }
    </script>
</head>
<body id="top">
    <!-- 标准菜单 -->
    <nav class="navbar navbar-vertical fixed-left navbar-expand-md " id="sidebar">
        <div class="container-fluid">
            <!-- Toggler -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidebarCollapse" aria-controls="sidebarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Brand -->
            <div data-toggle="tooltip" data-placement="right" data-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>' title="了解 Razor Pages">
                <a class="navbar-brand" href="./index.html"><span class="text-center d-md-block">了解 Razor Pages</span></a>
            </div>
            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="sidebarCollapse">
                <!-- Divider -->
                <hr class="navbar-divider d-none d-md-block mt-0 my-3">
                <!-- Navigation -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarIndex" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarIndex">主页</a>
                        <div class="collapse" id="sidebarIndex">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item">
                                    <a class="nav-link" href="./fristlook.html">初试</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="./Aspnetcore.html">ASP.NET Core</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarTutorials" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarTutorials">讲解</a>
                        <div class="collapse" id="sidebarTutorials">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item">
                                    <a class="nav-link" href="./bakery.html">面包店</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarRazorpages" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarRazorpages">Razor 页面文件</a>
                        <div class="collapse" id="sidebarRazorpages">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item"><a class="nav-link" href="#">Razor 页面文件</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Razor 文件</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">分部视图</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">布局</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">ViewImports</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">ViewStart</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Razor 语法</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarPagemodel" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarPagemodel">Page Models</a>
                        <div class="collapse" id="sidebarPagemodel">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item"><a class="nav-link" href="#">Page Models</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Handler Methods</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">ViewData</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Action Results</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarTaghelpers" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarTaghelpers">标记帮助程序</a>
                        <div class="collapse" id="sidebarTaghelpers">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Anchor Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Cache Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Distributed Cache Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Environment Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Form Action Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Form Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Image Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Input Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Label Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Link Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Option Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Partial Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Script Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Select Tag Helper</a></li>
                                <li><a class="nav-link" href="#">TextArea Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Validation Tag Helper</a></li>
                                <li><a class="nav-link" href="#">Validation Summary Tag Helper</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">View Components</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarRouting" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarRouting">Routing and URLs</a>
                        <div class="collapse" id="sidebarRouting">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item"><a class="nav-link" href="#">Routing and URLs</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Customising Route Conventions</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Startup</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarConfiguration" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarConfiguration">Configuration</a>
                        <div class="collapse" id="sidebarConfiguration">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Configuration</a></li>
                                <li><a class="nav-link" href="#">Global Error Handling And Logging</a></li>
                                <li><a class="nav-link" href="#">Custom Error Pages</a></li>
                                <li><a class="nav-link" href="#">Configuring HTTPS</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Middleware</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Dependency Injection</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarForms" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarForms">Working With Forms</a>
                        <div class="collapse" id="sidebarForms">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Working With Forms</a></li>
                                <li><a class="nav-link" href="#">Uploading Files in Razor Pages</a></li>
                                <li><a class="nav-link" href="#">Working With Checkboxes</a></li>
                                <li><a class="nav-link" href="#">Select Lists in a Razor Pages Form</a></li>
                                <li><a class="nav-link" href="#">Working With Radio Buttons</a></li>
                                <li><a class="nav-link" href="#">Request Verification</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarValidation" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarValidation">Validation</a>
                        <div class="collapse" id="sidebarValidation">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Validation</a></li>
                                <li><a class="nav-link" href="#">Remote Validation</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Model Binding</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">State Management</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Caching</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarIdentity" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarIdentity">Managing Security With ASP.NET Identity</a>
                        <div class="collapse" id="sidebarIdentity">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Identity</a></li>
                                <li><a class="nav-link" href="#">Customising Identity</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarAjax" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarAjax">使用 AJAX</a>
                        <div class="collapse" id="sidebarAjax">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">AJAX</a></li>
                                <li><a class="nav-link" href="#">Posting Forms</a></li>
                                <li><a class="nav-link" href="#">Partial Page Updates</a></li>
                                <li><a class="nav-link" href="#">Cascading Dropdowns</a></li>
                                <li><a class="nav-link" href="#">Uploading Files</a></li>
                                <li><a class="nav-link" href="#">Unobtrusive AJAX</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Working with JSON</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Scaffolding</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Publishing To IIS</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="#sidebarAdvanced" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="sidebarAdvanced">Advanced</a>
                        <div class="collapse" id="sidebarAdvanced">
                            <ul class="nav nav-sm flex-column">
                                <li><a class="nav-link" href="#">Advanced</a></li>
                                <li><a class="nav-link" href="#">Areas</a></li>
                                <li><a class="nav-link" href="#">Custom Tag Helpers</a></li>
                                <li><a class="nav-link" href="#">Customising Route Conventions</a></li>
                                <li><a class="nav-link" href="#">Custom Route Constraints</a></li>
                                <li><a class="nav-link" href="#">Parameter Transformers For Routes</a></li>
                                <li><a class="nav-link" href="#">Dependency Injection</a></li>
                                <li><a class="nav-link" href="#">Filters</a></li>
                                <li><a class="nav-link" href="#">Razor Class Libraries</a></li>
                                <li><a class="nav-link" href="#">Rendering A Partial View To A String</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Table Of Contents</a></li>
                </ul>
                <!-- Push content down -->
                <div class="mt-auto"></div>
            </div>
            <!-- /Navbar-collapse -->
        </div>
    </nav>
    <nav class="navbar navbar-vertical navbar-vertical-sm fixed-left navbar-expand-md " id="sidebarSmall"></nav>
    <div class="main-content">
        <nav class="navbar navbar-expand-md navbar-light d-none d-md-flex" id="topbar">
            <div class="container-fluid">
                <!-- Title -->
                <div class="input-group input-group-flush input-group-merge">
                    <div class="input-group-prepend">
                        <div class="input-group-text"></div><a id="tn">ASP.NET Core Razor技术指南</a>
                    </div>
                </div>
            </div>
        </nav>
        <div class="header bg-light pb-5">
            <div class="container-fluid">
                <!-- List -->
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-12 col-xl-12">
                        <!-- Header -->
                        <div class="header header-sm mt-md-0">
                            <div class="header-body header-body-sm">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <!-- Pretitle -->
                                        <h6 class="header-pretitle"></h6>
                                        <!-- Title -->
                                        <h4 class="header-title"><strong>讲解</strong></h4>
                                    </div>
                                </div>
                                <!-- /Row -->
                            </div>
                        </div>
                        <!-- /Header -->
                        <!-- ListContent -->
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-9">
                                        <div>
                                            <h1 id="adding-your-first-page">添加你的第一个页面</h1>
                                            <div itemprop="articleBody">
                                                <p>在本部分中，您将添加“关于”页面，并使用<a href="https://www.learnrazorpages.com/razor-pages/tag-helpers">标签助手</a>从主页提供指向该页面的链接。 您将使用 ASP.NET Core 框架系统创建页面，该页面在 VS Code 中由终端中执行的命令调用。</p>
                                                <p>如果该应用程序仍在上一部分中运行，则可以打开另一个终端 (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>'</kbd>)，也可以按 <kbd>Ctrl</kbd>+<kbd>C</kbd> 关闭 Web 服务器。 完成此操作后，执行以下命令：</p>
                                                <pre class="prettyprint linenums"><code class="language-cmd">dotnet new page --name About --namespace Bakery.Pages --output Pages</code></pre>
                                                <p>该命令生成带有 PageModel 文件的 Razor Page。 您需要指定名称空间，否则将使用 <code>MyApp.Namespace</code> 的默认值。 同样，如果不将 <em>Pages</em> 目录指定为<code>输出</code>位置，则页面将在执行命令的文件夹中生成。</p>
                                                <p>确认页面创建成功后，打开<em>About.cshtml</em> 文件 (<a href="https://www.learnrazorpages.com/razor-pages#content-pages">内容页面</a>), 并将其内容修改为以下内容：</p>
<pre class="prettyprint linenums"><code class="language-html">
@page
@model Bakery.Pages.AboutModel
@{
    ViewData["Title"] = "About Us";
}
&lt;section id="main"&gt;
    &lt;h1&gt;A little bit about Fourth Coffee&lt;/h1&gt;
    &lt;p&gt;
        Fourth Coffee was founded in 2010 and delivers coffee and fresh baked goods right to your door. 
        In another life, Bill Baker was a developer by day and pastry chef by night.  
        But soon Bill's innate skills with all things involving butter, flour and sugar put him 
        even more in demand than his programming talents and what started out as a way to satisfy 
        his own sweet tooth became all-consuming.  Fourth Coffee is not only a candy-coated wonderland 
        of coffee, pastries, cookies and cakes, it also honors his tech background by employing a state 
        of the art online ordering system that makes it easy for anybody with internet access to 
        order his all natural, locally-sourced confections and have them delivered to their 
        door within 24 hours.
    &lt;/p&gt;
&lt;/section&gt;
</code></pre>
                                                <p>这是“网页”模板中的原始内容。 唯一的不同是文件顶部的 <code>@page</code> 指令，指示这是 Razor 页面，<code>@model</code> 声明，以及使用 <code>ViewData</code> 属性保存页面标题。 在网页中，这是由 <code>PageData</code> 属性处理的，该属性具有基于<code>dynamic</code>类型的版本。 Razor Pages背后的团队在很大程度上不再使用<code>dynamic</code>类型</p>
                                                <h2 id="adding-navigation">添加导航</h2>
                                                <p>主站点导航位于 <a href="https://www.learnrazorpages.com/razor-pages/files/layout">布局页面</a> 中，该页面充当引用该页面的所有页面的模板。 要对其进行更改，请打开 <em>Pages/Shared</em> 文件夹中的 _<em>Layout.cshtml</em> 文件。 找到如下所示的代码行：</p>
<pre class="prettyprint linenums"><code class="language-html">
&lt;li class="nav-item"&gt;
    &lt;a class="nav-link text-dark" asp-area="" asp-page="/Index"&gt;Page1&lt;/a&gt;
&lt;/li&gt;
&lt;li class="nav-item"&gt;
    &lt;a class="nav-link text-dark" asp-area="" asp-page="/Index"&gt;Page2&lt;/a&gt;
&lt;/li&gt;
</code></pre>
                                                 <p>它们从第30行开始。对其进行如下更改：</p>
<pre class="prettyprint linenums"><code class="language-html">&lt;li class="nav-item"&gt;
    &lt;a class="nav-link text-dark" asp-page="/Index"&gt;Home&lt;/a&gt;
&lt;/li&gt;
&lt;li class="nav-item"&gt;
    &lt;a class="nav-link text-dark" asp-page="/About"&gt;About&lt;/a&gt;
&lt;/li&gt;
</code></pre>
                                                <p>运行应用程序 (<code>dotnet run</code>) 并导航到 <code>https://localhost:5001</code> 。 然后单击关于链接以确保导航正常。 您应该到达刚刚创建的页面：</p>
                                                <p><img src="./assets/img/22-11-2018-08-22-16.png" class="img-fluid" alt="Bakery Template"></p>
                                                <p>
                                                    链接是由标签助手生成的。 这些是旨在针对 HTML 中特定标签的组件。<a href="https://www.learnrazorpages.com/razor-pages/tag-helpers/anchor-tag-helper">定位标签助手</a> 将 HTML 定位为 <code>a</code> 元素。
                                                    您没有提供 <code>href</code> 属性指向内部页面，而是提供了 <code>asp-page</code> 属性，该属性采用页面相对于根 <em>Pages</em> 文件夹的路径。 框架为生成的超链接构造正确的 URL 。
                                                    原始标签帮助器中的 <code>asp-area</code> 属性分配了一个空字符串。 在此示例中，您不使用<a href="https://www.learnrazorpages.com/advanced/areas">区域</a>，因此已删除该属性以减少混乱。
                                                </p>
                                                <h2 id="finishing-off">最后</h2>
                                                <p>最后，在本部分中，您将对布局页面进行一些微调，以包括品牌形象并添加一些样式。 您可以从我在 GitHub 上托管的 <a href="https://github.com/mikebrind/Bakery">原始面包店模板</a> 中获取图像文件。</p>
                                                <p>在 <em>wwwroot</em> 文件夹中创建一个名为 <em>images</em> 的文件夹。 在其中创建另一个名为 <em>products</em> 的文件夹，在其中创建另一个名为 <em>thumbnails</em> 的文件夹。 然后将图像复制到正确的文件夹。 最终的文件夹结构应如下所示：</p>
                                                <p><img src="./assets/img/21-11-2018-08-47-26.png" class="img-fluid" alt="Bakery Template Images"></p>
                                                <p>用 <code>navbar-brand</code> CSS 类更改锚标记，以包括图像，如突出显示的部分所示：</p>
<pre class="prettyprint linenums"><code class="language-html" data-lines="5-7">
&lt;body&gt;
    &lt;header&gt;
        &lt;nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3"&gt;
            &lt;div class="container"&gt;
                &lt;a class="navbar-brand" asp-page="/Index"&gt;
                    &lt;img class="img-fluid" src="/images/brand.png" alt="Fourth Coffee" /&gt;
                &lt;/a&gt;
                &lt;button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation"&gt;
                    &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
                &lt;/button&gt;
</code></pre>
                                                <p>最后，在 <em>wwwroot/css</em> 中找到的 <em>site.css</em> 文件中添加以下样式：</p>
<pre class="prettyprint linenums"><code class="language-css">
.navbar-nav {
  justify-content: flex-end;
}
</code></pre>
                                                <div class="alert alert-dark">
                                                    <p>Bootstrap 4 使用 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout">CSS Flexible Box Layout</a>（也称为 <strong>FlexBox</strong> ）来控制布局，而不是使用先前版本的 Bootstrap 中的 CSS float。</p>
                                                </div>
                                                <p>现在，使用 <kbd>Ctrl</kbd>+<kbd>R</kbd> 清除样式表的所有缓存版本，以在浏览器中刷新页面。 它看起来应该像这样：</p>
                                                <p><img src="./assets/img/22-11-2018-08-17-31.png" class="img-fluid" alt="Bakery Template"></p>
                                                <h3 id="summary">小结</h3>
                                                <p>在本节中，您已经了解了如何使用脚手架命令添加 Razor 页面。 您还使用了定位标记帮助器来调整网站的导航，并在样式表中添加了一些样式。 在下一节中，您将开始通过为应用程序创建<em>模型</em>并添加 Entity Framework Core 来处理数据。</p>
                                                <h3 id="further-reading">进一步阅读</h3>
                                                <ul>
                                                    <li><a href="https://www.learnrazorpages.com/razor-pages/files/layout">Layout 页面</a></li>
                                                    <li><a href="https://www.learnrazorpages.com/razor-pages/tag-helpers/anchor-tag-helper">定位标签助手</a></li>
                                                </ul>
                                                <div class="pull-right">
                                                    <p>下一步: <a href="./create-model.html">建立模型</a></p>
                                                </div>
                                                <div class="pull-left">
                                                    <p>上一步: <a href="./bakery.html">入门</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 right-col">
                                        <div class="alert alert-light" role="alert">
                                            <a href="https://www.learnrazorpages.com/razor-pages/tutorial/bakery/new-page">原文地址</a>
                                        </div>
                                        <div id="doc-outline" class="doc-outline well">
                                            <h3 class="doc-outline">快速导航</h3>
                                            <nav class="doc-outline">
                                                <ul>
                                                    <li><a href="#adding-your-first-page" class="page-scroll">添加你的第一个页面</a></li>
                                                    <li><a href="#adding-navigation" class="page-scroll">添加导航</a></li>
                                                    <li><a href="#finishing-off" class="page-scroll">最后</a></li>
                                                    <li><a href="#summary" class="page-scroll">小结</a></li>
                                                    <li><a href="#further-reading" class="page-scroll">进一步阅读</a></li>
                                                </ul>
                                            </nav>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /ListContent -->
                    </div>
                </div>
                <!-- /List -->
            </div>
        </div>
    </div>

    <a class="btn-scroll-top" href="#top" data-scroll="">
        <span class="btn-scroll-top-tooltip text-muted font-size-sm mr-2"></span>返回顶部
    </a>

    <script src="./assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="./assets/libs/bootstrap-4.4.1-dist/js/bootstrap.js"></script>
    <script src="./assets/libs/bootstrap-4.4.1-dist/js/bootstrap.bundle.js"></script>
    <script src="./assets/theme.js"></script>
</body>
</html>
